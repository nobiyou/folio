!function(e){"use strict";const t={init:function(){this.bindEvents(),this.initAnimations(),this.checkMembershipStatus()},bindEvents:function(){e(document).on("click",".premium-btn-upgrade, .membership-btn-upgrade",this.handleUpgradeClick),e(document).on("click",".premium-btn-login",this.handleLoginClick),e(document).on("mouseenter",".membership-card",this.handleCardHover),e(document).on("mouseleave",".membership-card",this.handleCardLeave),e(document).on("click",".premium-content-locked",this.handleContentClick)},initAnimations:function(){e(".premium-content").each((function(t){e(this).css({opacity:"0",transform:"translateY(20px)"}).delay(100*t).animate({opacity:"1",transform:"translateY(0)"},600)})),e(".membership-card").each((function(t){e(this).css({opacity:"0",transform:"scale(0.95)"}).delay(150*t).animate({opacity:"1",transform:"scale(1)"},500)}))},checkMembershipStatus:function(){"undefined"!=typeof folioPremium&&this.updateMembershipUI()},updateMembershipUI:function(){const t=this.getCurrentMembershipLevel();e(".membership-badge-current").removeClass("membership-badge-current"),e(`.membership-badge-${t}`).addClass("membership-badge-current"),this.updateUpgradePrompts(t)},getCurrentMembershipLevel:function(){return e("body").data("membership-level")||"free"},updateUpgradePrompts:function(t){e(".upgrade-prompt").each((function(){const n=e(this),i=n.data("target-level")||"vip";("svip"===t||"vip"===t&&"vip"===i)&&n.fadeOut()}))},handleUpgradeClick:function(t){t.preventDefault();const n=e(this);n.addClass("loading").prop("disabled",!0),setTimeout((()=>{window.location.href=n.attr("href")||"/user-center/?tab=membership"}),300)},handleLoginClick:function(t){t.preventDefault();const n=e(this);n.addClass("loading"),setTimeout((()=>{window.location.href=n.attr("href")||"/user-center/login"}),200)},handleCardHover:function(){const t=e(this);t.hasClass("membership-card-current")||t.css("transform","translateY(-5px)")},handleCardLeave:function(){const t=e(this);t.hasClass("membership-card-current")||t.css("transform","translateY(0)")},handleContentClick:function(t){const n=e(this),i=n.data("level");n.addClass("premium-content-clicked"),setTimeout((()=>{n.removeClass("premium-content-clicked")}),200),this.showUpgradeModal(i)},showUpgradeModal:function(t){const n="svip"===t?"SVIP":"VIP",i=e(`<div class="premium-upgrade-modal"><div class="premium-modal-overlay"></div><div class="premium-modal-content"><div class="premium-modal-header"><h3>升级到${n}会员</h3><button class="premium-modal-close">&times;</button></div><div class="premium-modal-body"><p>此内容需要${n}会员权限才能查看。</p><div class="premium-modal-benefits"><h4>升级${n}会员，您将获得：</h4><ul><li>✓ 查看所有${n}专属内容</li><li>✓ 无广告浏览体验</li><li>✓ 优先客服支持</li><li>✓ 专属会员标识</li></ul></div></div><div class="premium-modal-footer"><button class="premium-modal-cancel">取消</button><a href="/user-center/?tab=membership" class="premium-modal-upgrade">立即升级</a></div></div></div>`);e("body").append(i),setTimeout((()=>{i.addClass("premium-modal-show")}),10),i.on("click",".premium-modal-close, .premium-modal-cancel, .premium-modal-overlay",(function(){i.removeClass("premium-modal-show"),setTimeout((()=>{i.remove()}),300)}))},utils:{formatPrice:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},calculateDaysLeft:function(e){const t=new Date,n=new Date(e),i=n-t;return Math.max(0,Math.ceil(i/864e5))},showNotification:function(t,n="info"){const i=e(`<div class="premium-notification premium-notification-${n}">${t}</div>`);e("body").append(i),setTimeout((()=>{i.addClass("premium-notification-show")}),10),setTimeout((()=>{i.removeClass("premium-notification-show"),setTimeout((()=>{i.remove()}),300)}),3e3)}}};e(document).ready((function(){t.init()})),window.FolioPremiumContent=t}(jQuery);const premiumStyles='<style>.premium-content-clicked{transform:scale(0.98);transition:transform 0.1s ease}.loading{opacity:0.7;pointer-events:none;position:relative}.loading::after{content:"";position:absolute;top:50%;left:50%;width:20px;height:20px;margin:-10px 0 0 -10px;border:2px solid transparent;border-top:2px solid currentColor;border-radius:50%;animation:spin 1s linear infinite}@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}.premium-upgrade-modal{position:fixed;top:0;left:0;width:100%;height:100%;z-index:9999;opacity:0;visibility:hidden;transition:all 0.3s ease}.premium-upgrade-modal.premium-modal-show{opacity:1;visibility:visible}.premium-modal-overlay{position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.5)}.premium-modal-content{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%) scale(0.9);background:#fff;border-radius:12px;max-width:500px;width:90%;max-height:80vh;overflow-y:auto;transition:transform 0.3s ease}.premium-modal-show .premium-modal-content{transform:translate(-50%,-50%) scale(1)}.premium-modal-header{padding:20px 20px 0;display:flex;justify-content:space-between;align-items:center}.premium-modal-header h3{margin:0;font-size:1.25rem;font-weight:600}.premium-modal-close{background:none;border:none;font-size:24px;cursor:pointer;color:#6b7280;padding:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center}.premium-modal-body{padding:20px}.premium-modal-benefits{margin-top:20px;padding:15px;background:#f8f9fa;border-radius:8px}.premium-modal-benefits h4{margin:0 0 10px 0;font-size:1rem;font-weight:600}.premium-modal-benefits ul{margin:0;padding-left:0;list-style:none}.premium-modal-benefits li{margin:8px 0;color:#10b981}.premium-modal-footer{padding:0 20px 20px;display:flex;gap:10px;justify-content:flex-end}.premium-modal-cancel{padding:8px 16px;border:1px solid #d1d5db;background:#fff;color:#374151;border-radius:6px;cursor:pointer;font-size:14px}.premium-modal-upgrade{padding:8px 16px;background:#0073aa;color:#fff;border-radius:6px;text-decoration:none;font-size:14px;font-weight:500}.premium-modal-upgrade:hover{background:#005a87;color:#fff}.premium-notification{position:fixed;top:20px;right:20px;padding:12px 20px;background:#fff;border-radius:6px;box-shadow:0 4px 12px rgba(0,0,0,0.15);z-index:10000;transform:translateX(100%);transition:transform 0.3s ease}.premium-notification-show{transform:translateX(0)}.premium-notification-success{border-left:4px solid #10b981}.premium-notification-error{border-left:4px solid #ef4444}.premium-notification-info{border-left:4px solid #3b82f6}@media (max-width:768px){.premium-modal-content{width:95%;margin:20px}.premium-modal-footer{flex-direction:column}.premium-modal-cancel,.premium-modal-upgrade{width:100%;text-align:center}}</style>';document.head&&document.head.insertAdjacentHTML("beforeend",premiumStyles);